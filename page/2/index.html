<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/blog/crown.png"><link rel="icon" type="image/png" href="/img/blog/crown.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="theme-color" content="#2f4154"><meta name="description" content="Nothing is so common as the wish to be remarkables"><meta name="author" content="Bryce Huang"><meta name="keywords" content="blog,program,life"><title>Bryce&#39;s Club</title><link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/dracula.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_fmb4a04yx8h.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_pjno9b9zyxs.css"><link rel="stylesheet" href="https://cdn.staticfile.org/gitalk/1.6.2/gitalk.css"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/css/custom.css"><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Bryce's Club" type="application/atom+xml"></head><body><div id="dark" onclick="switchDarkMode()"></div><script>var isNight=18<=(new Date).getHours()||(new Date).getHours()<8;(matchMedia("(prefers-color-scheme: dark)").matches||isNight||"1"===localStorage.getItem("dark"))&&(isNight&&"1"===localStorage.getItem("noDark")||document.body.classList.add("dark")),document.getElementById("dark").innerHTML=document.querySelector("body").classList.contains("dark")?"🌙":"🌞"</script><header style="height:100vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/">&nbsp;<strong>Bryce's Club</strong>&nbsp;</a> <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> 首页</a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> 归档</a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> 分类</a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="iconfont icon-tags-fill"></i> 标签</a></li><li class="nav-item"><a class="nav-link" href="/links/"><i class="iconfont icon-link-fill"></i> 友链</a></li><li class="nav-item"><a class="nav-link" href="/messageboard/"><i class="iconfont icon-speakernotes"></i> 留言</a></li><li class="nav-item"><a class="nav-link" href="/features/"><i class="iconfont icon-exp-fill"></i> 功能</a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> 关于</a></li><li class="nav-item" id="search-btn"><a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i class="iconfont icon-search"></i>&nbsp;&nbsp;</a></li></ul></div></div></nav><div class="view intro-2" id="background" parallax="true" style="background:url(/img/true-damage/champion-yasuo-td-splash.webp) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="container text-center white-text fadeInUp"><span class="h2" id="subtitle"></span></div><div class="scroll-down-bar"><i class="iconfont icon-arrowdown"></i></div></div></div></div></header><main><div class="container nopadding-md"><div class="py-5" id="board" style="margin-top:0"><div class="container"><div class="row"><div class="col-12 col-md-10 m-auto"><div class="row mx-auto index-card"><div class="col-12 col-md-12 mx-auto index-info"><a class="index-header" href="/post/ed1d6ed5.html">终端那些事</a> <a href="/post/ed1d6ed5.html" class="index-excerpt"><div>前言最近在学习和处理终端的输入和输出以及命令拦截问题，但终端在编程里属于比较小众的领域，比较有名的类库不多，比如 go 的 go-prompt、termbox-go、pty 以及 ts 的 xterm.js。不同的终端，在处理输入和输出时，所对应的数据也不一样，以及存在跨平台等问题。总得来说跟终端打交道，就是一件苦差事，不过有这么多优秀的开源类库，让我们在了解和处理终端问题时，提供了和很好的思路。</div></a><div class="index-btm post-metas"><div class="post-meta mr-3"><i class="iconfont icon-date"></i>&nbsp;2021-12-02</div><div class="post-meta mr-3"><i class="iconfont icon-category"></i> <a href="/categories/program/">program</a></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/go/">go</a> <a href="/tags/terminal/">terminal</a></div></div></div></div><div class="row mx-auto index-card"><div class="col-12 col-md-4 m-auto index-img"><a href="/post/66cb4f6f.html" target="_blank"><img src="/img/future-warrior/champion-ekko-pulsefire-splash.webp" alt="Ansible简明指北"></a></div><div class="col-12 col-md-8 mx-auto index-info"><a class="index-header" href="/post/66cb4f6f.html">Ansible简明指北</a> <a href="/post/66cb4f6f.html" class="index-excerpt"><div>Ansible简介我是在学习部署okd与ansible相遇的，我从来没有特地去学习这么一款工具，只是需要的时候查阅一下官方文档，ansible真的足够简单，可以想使用命令行一样使用ansible，当然ansible也可以做一些不简单的事情。Ansible是一种IT自动化工具。它可以配置系统，部署软件以及协调更高级的IT任务，例如连续部署或零停机滚动更新。Ansible的主要目标是简单和易用。它还非</div></a><div class="index-btm post-metas"><div class="post-meta mr-3"><i class="iconfont icon-date"></i>&nbsp;2020-05-15</div></div></div></div><div class="row mx-auto index-card"><div class="col-12 col-md-4 m-auto index-img"><a href="/post/364ea8cc.html" target="_blank"><img src="/img/war-college/champion-yuumi-battle-academia-splash.webp" alt="设计模式"></a></div><div class="col-12 col-md-8 mx-auto index-info"><a class="index-header" href="/post/364ea8cc.html">设计模式</a> <a href="/post/364ea8cc.html" class="index-excerpt"><div>设计模式感悟学习经过博主看了《head first 设计模式》和《大话设计模式》，这两本书只是简单讲明白了什么是设计模式，并没有特别经典的实战案例，为不小遗憾。对此我这两本书并不推荐，只是入门建议参考菜鸟教程设计模式，博主学习下面设计的模式的代码已提交basics_of_programming为什么使用设计模式？模式：是在某种情境（context）下，针对某问题的某种解决方案这个是老生常谈了 ，良</div></a><div class="index-btm post-metas"><div class="post-meta mr-3"><i class="iconfont icon-date"></i>&nbsp;2019-02-24</div><div class="post-meta mr-3"><i class="iconfont icon-category"></i> <a href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/java/">java</a> <a href="/tags/design/">design</a></div></div></div></div><div class="row mx-auto index-card"><div class="col-12 col-md-4 m-auto index-img"><a href="/post/79465543.html" target="_blank"><img src="/img/star-guardian/champion-ahri-starguardian-splash.webp" alt="为没有密码保护的okd应用添加oauth proxy"></a></div><div class="col-12 col-md-8 mx-auto index-info"><a class="index-header" href="/post/79465543.html">为没有密码保护的okd应用添加oauth proxy</a> <a href="/post/79465543.html" class="index-excerpt"><div>前言很多时候为了安全起见，需要对一些控制台添加访问限制，但是很多时候，这些后端的控制台都非常简便，没有所谓的访问控制。即使就算有，倘若应用多了起来，会很多账号密码，又不统一方便，容易忘记或者遗失。为解决这个问题，引入了okd的oauth proxy，相应的web页面进行访问管理。oauth-proxy介绍oauth-proxys是openshift专注于在OpenShift上提供最简单的安全代理,</div></a><div class="index-btm post-metas"><div class="post-meta mr-3"><i class="iconfont icon-date"></i>&nbsp;2020-04-03</div></div></div></div><div class="row mx-auto index-card"><div class="col-12 col-md-4 m-auto index-img"><a href="/post/65cd929b.html" target="_blank"><img src="/img/star-guardian/champion-soraka-starguardian-splash.webp" alt="linux基本命令"></a></div><div class="col-12 col-md-8 mx-auto index-info"><a class="index-header" href="/post/65cd929b.html">linux基本命令</a> <a href="/post/65cd929b.html" class="index-excerpt"><div>Linux基本操作查看当前目录下的所有文件（包含隐藏文件）-l 查看目录ls -al ~退出当前登陆exit显示日期 +%Y/%m/%d-%H:%M:%Sdate显示目前所支持的语言echo $LANG设置语言为英语LANG=en_US显示日历 cal 2019 某年 cal 2 2019 某年某月cal进入计算器程序，若没有此命令，请使用yum install bc 安装，exit退出bc，s</div></a><div class="index-btm post-metas"><div class="post-meta mr-3"><i class="iconfont icon-date"></i>&nbsp;2019-02-24</div><div class="post-meta mr-3"><i class="iconfont icon-category"></i> <a href="/categories/OS/">OS</a></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/OS/">OS</a> <a href="/tags/LINUX/">LINUX</a></div></div></div></div><div class="row mx-auto index-card"><div class="col-12 col-md-4 m-auto index-img"><a href="/post/d0bd304f.html" target="_blank"><img src="/img/character/champion-gangplank-pre-splash.webp" alt="Prometheus operator使用black_box监控服务连通性"></a></div><div class="col-12 col-md-8 mx-auto index-info"><a class="index-header" href="/post/d0bd304f.html">Prometheus operator使用black_box监控服务连通性</a> <a href="/post/d0bd304f.html" class="index-excerpt"><div>前言经常有外部服务的链接需要监控其可达性，并且k8s集群内服务连通性也需要监控。发现prometheus提供的blackbox_exporter比较符合我们的需求。下面将介绍如何使用blackbox_exporter以及如何将blackbox_exporter集成进prometheus operator里面去。blackbox_exporter介绍blackbox_exporter允许通过HTTP</div></a><div class="index-btm post-metas"><div class="post-meta mr-3"><i class="iconfont icon-date"></i>&nbsp;2020-04-10</div></div></div></div><div class="row mx-auto index-card"><div class="col-12 col-md-4 m-auto index-img"><a href="/post/7174208d.html" target="_blank"><img src="/img/star-guardian/champion-missfortune-starguardian-splash.webp" alt="oracle Sql 优化"></a></div><div class="col-12 col-md-8 mx-auto index-info"><a class="index-header" href="/post/7174208d.html">oracle Sql 优化</a> <a href="/post/7174208d.html" class="index-excerpt"><div>引言在开发初期,数据量较小,对于sql查询语句优化并不会那么急迫.但随着日积月累的数据,数据库承担的压力越来越大,数据搜索时间也越来越长.对查询性能要求也变的迫在眉睫,对于数据库优化,可以有集群,分表分库,读写分离,索引等,但体现在最低端被无数次重复使用的还是程序员们写的sql,一个不成熟的程序员写sql可能极大的浪费数据库的资源,最直观的就是浪费电啊!!!所以为了环保,为了世界,编写出高效的sq</div></a><div class="index-btm post-metas"><div class="post-meta mr-3"><i class="iconfont icon-date"></i>&nbsp;2019-02-24</div><div class="post-meta mr-3"><i class="iconfont icon-category"></i> <a href="/categories/database/">database</a></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/oracle/">oracle</a> <a href="/tags/sql/">sql</a></div></div></div></div><div class="row mx-auto index-card"><div class="col-12 col-md-4 m-auto index-img"><a href="/post/e68bb2a1.html" target="_blank"><img src="/img/electronic-games/c-o-champion-caitlyn-prestige-arcade-splash.webp" alt="kubernetes 污点和容忍实战"></a></div><div class="col-12 col-md-8 mx-auto index-info"><a class="index-header" href="/post/e68bb2a1.html">kubernetes 污点和容忍实战</a> <a href="/post/e68bb2a1.html" class="index-excerpt"><div>前言如果已经将kubernetes用于实践，常常需要k8s的一些高级特性才能满足实际需求。这不，我们需要搭建性能测试平台，但是不想重新搭建一套k8s环境,但又不想原来运行在k8s的应用调度到新的节点上，影响测试结果。经过一番研究，发现k8s的污点和容忍的特性满足了我们需求。下面将介绍一下污点和容忍度。污点（Taints）k8s可以给node添加污点，对于添加了污点的node会和pod产生排斥，甚至</div></a><div class="index-btm post-metas"><div class="post-meta mr-3"><i class="iconfont icon-date"></i>&nbsp;2020-04-10</div></div></div></div><div class="row mx-auto index-card"><div class="col-12 col-md-4 m-auto index-img"><a href="/post/9f616579.html" target="_blank"><img src="/img/electronic-games/champion-brand-arcade-splash.webp" alt="prometheus operator 接入钉钉"></a></div><div class="col-12 col-md-8 mx-auto index-info"><a class="index-header" href="/post/9f616579.html">prometheus operator 接入钉钉</a> <a href="/post/9f616579.html" class="index-excerpt"><div>前言为了及时收到告警消息，考虑了几种方案，最终选择钉钉。方案有几种：电话短信企业微信钉钉slack电话、短信需要对接相关api，并且需要收费。企业微信需要认证，手续麻烦了。slack国内不方便，钉钉对接也比较简单，有比较现成的解决方案。我们运维团队人不多。已经足够了。作为即时IM通信软件，时效性也能得到保障。安装步骤安装钉钉安装钉钉，建立钉钉群，添加自定义机器人，通过限制ip地址请求机器人，填写公</div></a><div class="index-btm post-metas"><div class="post-meta mr-3"><i class="iconfont icon-date"></i>&nbsp;2020-04-02</div><div class="post-meta mr-3"><i class="iconfont icon-category"></i> <a href="/categories/%E7%9B%91%E6%8E%A7/">监控</a></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/prometheus/">prometheus</a> <a href="/tags/prometheus-operator/">prometheus-operator</a> <a href="/tags/%E9%92%89%E9%92%89/">钉钉</a> <a href="/tags/%E5%91%8A%E8%AD%A6/">告警</a></div></div></div></div><div class="row mx-auto index-card"><div class="col-12 col-md-4 m-auto index-img"><a href="/post/aa7f8012.html" target="_blank"><img src="/img/electronic-games/champion-hecarim-arcade-splash.webp" alt="prometheus-operator监控外部服务"></a></div><div class="col-12 col-md-8 mx-auto index-info"><a class="index-header" href="/post/aa7f8012.html">prometheus-operator监控外部服务</a> <a href="/post/aa7f8012.html" class="index-excerpt"><div>前言在生产环境中，常常有部署在k8s平台外的服务，对于平台外的主机我们需要及时知道哪些机器宕机了，所以我们想把这些主机纳入Prometheus-Operator监控，并能产生告警机制。采用node_exporter的形式对k8s平台外部的机器进行数据采集，并暴露metrics接口。主要有以及下步骤：为主机安装node_exporter创建EndPoints资源创建ServiceMonitor创建告</div></a><div class="index-btm post-metas"><div class="post-meta mr-3"><i class="iconfont icon-date"></i>&nbsp;2020-04-09</div><div class="post-meta mr-3"><i class="iconfont icon-category"></i> <a href="/categories/%E7%9B%91%E6%8E%A7/">监控</a></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/prometheus/">prometheus</a> <a href="/tags/prometheus-operator/">prometheus-operator</a> <a href="/tags/k8s/">k8s</a> <a href="/tags/alert/">alert</a></div></div></div></div><nav aria-label="navigation"><span class="pagination" id="pagination"><a class="extend prev" rel="prev" href="/"><i class="iconfont icon-arrowleft"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/"><i class="iconfont icon-arrowright"></i></a></span></nav><script>for(ele of document.getElementById("pagination").getElementsByTagName("a"))ele.href+="#board"</script></div></div></div></div></div></main><a id="scroll-top-button" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div><footer class="mt-5"><div class="text-center py-3"><div><svg t="1586793095516" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3553" width="16" height="16"><path d="M512 0c282.7776 0 512 229.2224 512 512s-229.2224 512-512 512S0 794.7776 0 512 229.2224 0 512 0z m0 71.424a440.576 440.576 0 1 0 0 881.152 440.576 440.576 0 0 0 0-881.152z m8.192 166.7072c55.296 0 108.3904 15.5136 153.7536 44.2368a35.7376 35.7376 0 0 1-38.144 60.3648 215.6032 215.6032 0 0 0-115.5584-33.1264c-116.6336 0-210.6368 90.88-210.6368 202.3936s94.0032 202.3936 210.6368 202.3936c41.0112 0 80.2304-11.264 113.8688-32.1024a35.7376 35.7376 0 0 1 37.632 60.7744 287.1296 287.1296 0 0 1-151.552 42.8032c-155.4944 0-282.0608-122.368-282.0608-273.8688 0-151.552 126.5664-273.8688 282.112-273.8688z" fill="#8a8a8a" p-id="3554"></path></svg> <span itemprop="copyrightYear" id="cori">2021</span><br><svg t="1584375698087" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1913" width="23" height="14"><path d="M513.984496 513.984496c141.383442 0 256-114.616558 256-256S655.367938 1.984496 513.984496 1.984496 257.984496 116.601054 257.984496 257.984496s114.616558 256 256 256z m0-59.534884c-108.50431 0-196.465116-87.960806-196.465116-196.465116s87.960806-196.465116 196.465116-196.465116 196.465116 87.960806 196.465116 196.465116-87.960806 196.465116-196.465116 196.465116z" fill="#8a8a8a" p-id="1914"></path><path d="M1020.031008 992.248062c0-281.647628-227.423256-510.015504-508.031008-510.015504S3.968992 710.600434 3.968992 992.248062a29.767442 29.767442 0 1 0 59.534884 0c0-248.820093 200.827039-450.48062 448.496124-450.48062s448.496124 201.660527 448.496124 450.48062a29.767442 29.767442 0 1 0 59.534884 0z" fill="#8a8a8a" p-id="1915"></path></svg> <span class="author" id="cori" itemprop="copyrightHolder">Bryce Huang</span></div></div><script type="text/javascript" src="/js/commentTyping.min.js"></script></footer><script src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script><script src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js"></script><script src="/js/main.js"></script><script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js"></script><script src="/js/clipboard-use.js"></script><script src="/js/custom.js"></script><script src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js"></script><script>var typed=new Typed("#subtitle",{strings:["  ","人生如逆旅，我亦是行人&nbsp;"],cursorChar:"_",typeSpeed:70,loop:!1});typed.stop(),$(document).ready(function(){$(".typed-cursor").addClass("h2"),typed.start()})</script><script src="/js/local-search.js"></script><script>var path="/local-search.xml",inputArea=document.querySelector("#local-search-input");inputArea.onclick=function(){searchFunc(path,"local-search-input","local-search-result"),this.onclick=null}</script></body></html>